{"version":3,"sources":["views/Widgets/Widget03.js","views/Dashboard/Dashboard.js"],"names":["Widget03","_this$props","this","props","children","className","cssModule","dataBox","data","Object","objectWithoutProperties","variant","indexOf","back","icon","keys","vals","values","classCardHeader","classNames","concat","classCardBody","classes","mapToCssModules","react_default","a","createElement","Component","defaultProps","friends","feeds","Dashboard","getStyle","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","callApi","asyncToGenerator","regenerator_default","mark","_callee","response","body","wrap","_context","prev","next","fetch","sent","json","status","Error","message","abrupt","stop","toggle","bind","assertThisInitialized","onRadioBtnClick","handleClick","setResponse","handleSearch","state","dropdownOpen","radioSelected","activePage","activePageList","post","responseToPost","search","event","console","log","target","value","trim","setState","index","Math","ceil","length","offset","slice","_this2","then","res","rows","catch","err","setInterval","_this3","searchInput","photoItems","map","row","parseInt","reactstrap_es","xs","sm","md","top","width","height","src","alt","addonType","type","color","id","name","placeholder","onChange","previous","tag","onClick","numPages","pages","_loop","i","push","active"],"mappings":"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","file":"static/js/4.8fb52343.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules } from 'reactstrap/lib/utils';\n\nconst propTypes = {\n  children: PropTypes.node,\n  className: PropTypes.string,\n  cssModule: PropTypes.object,\n  dataBox: PropTypes.func,\n};\n\nconst defaultProps = {\n  dataBox: () => ({ variant: 'facebook', friends: '-', feeds: '-' }),\n};\n\nclass Widget03 extends Component {\n  render() {\n\n    // eslint-disable-next-line\n    const { children, className, cssModule, dataBox, ...attributes } = this.props;\n\n    // demo purposes only\n    const data = dataBox();\n    const variant = data.variant;\n\n    if (!variant || ['facebook', 'twitter', 'linkedin', 'google-plus'].indexOf(variant) < 0) {\n      return (null);\n    }\n\n    const back = 'bg-' + variant;\n    const icon = 'fa fa-' + variant;\n    const keys = Object.keys(data);\n    const vals = Object.values(data);\n\n    const classCard = 'brand-card';\n    const classCardHeader = classNames(`${classCard}-header`, back);\n    const classCardBody = classNames(`${classCard}-body`);\n    const classes = mapToCssModules(classNames(classCard, className), cssModule);\n\n    return (\n      <div className={classes}>\n        <div className={classCardHeader}>\n          <i className={icon}></i>\n          {children}\n        </div>\n        <div className={classCardBody}>\n          <div>\n            <div className=\"text-value\">{vals[1]}</div>\n            <div className=\"text-uppercase text-muted small\">{keys[1]}</div>\n          </div>\n          <div>\n            <div className=\"text-value\">{vals[2]}</div>\n            <div className=\"text-uppercase text-muted small\">{keys[2]}</div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nWidget03.propTypes = propTypes;\nWidget03.defaultProps = defaultProps;\n\nexport default Widget03;\n","import React, { Component } from 'react';\nimport { Bar, Line } from 'react-chartjs-2';\nimport {\n  Badge,\n  Button,\n  ButtonDropdown,\n  ButtonGroup,\n  ButtonToolbar,\n  Card,\n  CardBody,\n  CardFooter,\n  CardHeader,\n  CardTitle,\n  CardImg,\n  CardSubtitle,\n  Col,\n  Dropdown,\n  DropdownItem,\n  DropdownMenu,\n  DropdownToggle,\n  Progress,\n  Row,\n  Table,\n  Pagination,\n  PaginationItem,\n  PaginationLink,\n  FormGroup,\n  InputGroup,\n  InputGroupAddon,\n  Input\n} from 'reactstrap';\nimport Widget03 from '../../views/Widgets/Widget03'\nimport { CustomTooltips } from '@coreui/coreui-plugin-chartjs-custom-tooltips';\nimport { getStyle, hexToRgba } from '@coreui/coreui/dist/js/coreui-utilities'\n\nconst brandPrimary = getStyle('--primary')\nconst brandSuccess = getStyle('--success')\nconst brandInfo = getStyle('--info')\nconst brandWarning = getStyle('--warning')\nconst brandDanger = getStyle('--danger')\nconst cardsPerPage = 30\n\nclass Dashboard extends Component {\n  constructor(props) {\n    super(props);\n    this.toggle = this.toggle.bind(this);\n    this.onRadioBtnClick = this.onRadioBtnClick.bind(this);\n    this.handleClick = this.handleClick.bind(this)\n    this.setResponse = this.setResponse.bind(this)\n    this.handleSearch = this.handleSearch.bind(this)\n\n    this.state = {\n      dropdownOpen: false,\n      radioSelected: 2,\n      response: [],\n      activePage: 1,\n      activePageList: [],\n      post: '',\n      responseToPost: '',\n      search: ''\n    };\n  }\n\n  handleSearch(event) {\n    console.log(\"Entered handleSearch\")\n    console.log(\"value: \" + event.target.value.trim())\n    this.setState({search: event.target.value.trim()})\n  }\n  handleClick(index) {\n      // check if active page has been selected\n      console.log(this.state.activePage)\n      if (this.state.activePage == index)\n          return;\n\n      //check if index is within range of a page\n      if(index > Math.ceil(this.state.response.length / cardsPerPage) || index < 1)\n          return;\n\n      // calculate offset\n      var offset = cardsPerPage * (index - 1);\n      // console.log(offset)\n      // console.log(\"starting slciing at \" + this.state.response[offset])\n      // console.log(this.state.response.slice(offset, offset + cardsPerPage))\n      this.setState({\n          activePageList: this.state.response.slice(offset, offset + cardsPerPage),\n          activePage: index})\n\n  }\n\n    setResponse(response) {\n        this.setState({response: response})\n    }\n\n    componentDidMount() {\n        this.callApi()\n            .then(res => {this.setState({ response: res.rows, activePageList: res.rows.slice(0, cardsPerPage)});\n                console.log(this.state.response);\n            })\n            .catch(err => console.log(err));\n\n        // Fetch fresh data from backend every 15 seconds\n        setInterval(() => {\n            console.log(\"fetching \")\n            var offset = cardsPerPage * (this.state.activePage - 1);\n            var response = this.callApi()\n            .then(res => {this.setState({response: res.rows, activePageList: res.rows.slice(offset, offset + cardsPerPage)})}).catch(err => console.log(err));\n\n        }, 10000)\n    }\n\n    callApi = async () => {\n        const response = await fetch('/api/hello');\n        const body = await response.json();\n\n        if (response.status !== 200) throw Error(body.message);\n\n        return body;\n    };\n\n  toggle() {\n    this.setState({\n      dropdownOpen: !this.state.dropdownOpen,\n    });\n  }\n\n  onRadioBtnClick(radioSelected) {\n    this.setState({\n      radioSelected: radioSelected,\n    });\n  }\n\n\n  render() {\n\n    /*\n    Limit the number of items on a page to 30 for non-violation\n    of flickr api usage limits\n     */\n    var pages = (() => {\n        var numPages = Math.ceil(this.state.response.length / cardsPerPage);\n        var pages = []\n        for (let i = 0; i < numPages; i++) {\n            //console.log(\"page \" + (i + 1) + \" link\")\n            if (i + 1 == this.state.activePage) {\n                pages.push(\n                    <PaginationItem active>\n                    <PaginationLink tag=\"button\" onClick={() => this.handleClick(i + 1)}>{i + 1}</PaginationLink>\n                </PaginationItem>)\n            } else {\n                pages.push(<PaginationItem>\n                    <PaginationLink tag=\"button\" onClick={() => this.handleClick(i + 1)}>{i + 1}</PaginationLink>\n                </PaginationItem>)\n            }\n        }\n        //console.log(pages)\n        return pages\n    })\n    var searchInput = this.state.search;\n    var photoItems = this.state.activePageList.map(function(row) {\n        if (searchInput.length != 0 && parseInt(searchInput) != row[1])\n            return;\n        return (\n        <Col xs=\"12\" sm=\"6\" md=\"6\">\n            <Card className=\"border-info\">\n                <CardHeader>\n                    {row[0]}\n                </CardHeader>\n                <CardBody>\n                    <Row>\n                        <Col>\n                            <CardImg\n                                top width=\"100%\" height=\"100%\"\n                                src={row[8]}\n                                alt=\"Card image cap\" />\n                        </Col>\n                        <Col>\n                           <Row className=\"mb-5\">\n                               <Col>\n                                   <CardSubtitle> Number:</CardSubtitle>\n                                  <h3>{row[1]}</h3>\n                               </Col>\n\n                           </Row>\n                          <Row className=\"mb-3\">\n                              <Col>\n                                  <CardSubtitle> Year: </CardSubtitle>\n                                  <div>{row[2]}</div>\n                              </Col>\n                          </Row>\n                            <Row className=\"mb-3\">\n                                <Col>\n                                    <CardSubtitle> Height</CardSubtitle>\n                                    <div>{row[3]}</div>\n                                </Col>\n                            </Row>\n                            <Row className=\"mb-3\">\n                                <Col>\n                                    <CardSubtitle> Shoe size: </CardSubtitle>\n                                    <div>{row[4]}</div>\n                                </Col>\n                            </Row>\n                          <Row className=\"mb-3\">\n                              <Col>\n                                  <CardSubtitle> Pronouns: </CardSubtitle>\n                                  <div>{row[5]}</div>\n                              </Col>\n                          </Row>\n                        </Col>\n                    </Row>\n                </CardBody>\n            </Card>\n        </Col>)\n    })\n    return (\n      <div className=\"animated fadeIn\">\n        <FormGroup row>\n                  <Col md=\"12\">\n                    <InputGroup>\n                      <InputGroupAddon addonType=\"prepend\">\n                        <Button type=\"button\" color=\"primary\"><i className=\"fa fa-search\"></i> Search this page</Button>\n                      </InputGroupAddon>\n                      <Input type=\"text\" id=\"searchInput\" name=\"search\" placeholder=\"Model Numbers\" value={this.state.search} onChange={(event) => this.handleSearch(event)}/>\n\n                    </InputGroup>\n                  </Col>\n               </FormGroup>\n        <Row>\n            {photoItems}\n        </Row>\n          <Pagination>\n              <PaginationItem>\n                  <PaginationLink previous tag=\"button\" onClick={() => this.handleClick(this.state.activePage - 1)}></PaginationLink>\n              </PaginationItem>\n                {pages()}\n              <PaginationItem>\n                  <PaginationLink next tag=\"button\" onClick={() => this.handleClick(this.state.activePage + 1)}></PaginationLink>\n              </PaginationItem>\n          </Pagination>\n      </div>\n    );\n  }\n}\n\nexport default Dashboard;\n"],"sourceRoot":""}